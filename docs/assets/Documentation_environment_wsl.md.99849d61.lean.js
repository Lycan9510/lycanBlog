import{o as e,c as l,a as n,b as r}from"./app.9332e4e2.js";const s='{"title":"WSL","description":"","frontmatter":{},"headers":[{"level":2,"title":"适用于 Linux 的 Windows 子系统文档","slug":"适用于-linux-的-windows-子系统文档"},{"level":3,"title":"步骤1 为 Windows 启用 Linux 子系统","slug":"步骤1-为-windows-启用-linux-子系统"},{"level":3,"title":"步骤2 检查运行WSL 2的要求","slug":"步骤2-检查运行wsl-2的要求"},{"level":3,"title":"步骤3 启用虚拟机功能","slug":"步骤3-启用虚拟机功能"},{"level":3,"title":"步骤4 下载Linux内核更新包","slug":"步骤4-下载linux内核更新包"},{"level":3,"title":"步骤5 将WSL2设置为你的默认版本","slug":"步骤5-将wsl2设置为你的默认版本"},{"level":3,"title":"步骤6 安装你选择的Linux发行版","slug":"步骤6-安装你选择的linux发行版"},{"level":2,"title":"安装Windows终端","slug":"安装windows终端"},{"level":3,"title":"将你的发行版本设置为WSL 1或WSL 2","slug":"将你的发行版本设置为wsl-1或wsl-2"},{"level":2,"title":"安装Homebrew","slug":"安装homebrew"},{"level":3,"title":"快速安装","slug":"快速安装"},{"level":3,"title":"安装相关包","slug":"安装相关包"},{"level":3,"title":"mysql启动","slug":"mysql启动"},{"level":3,"title":"redis启动","slug":"redis启动"},{"level":2,"title":"参考链接","slug":"参考链接"}],"relativePath":"Documentation/environment/wsl.md","lastUpdated":1629798053281}',o={},a=[n("h1",{id:"wsl"},[n("a",{class:"header-anchor",href:"#wsl","aria-hidden":"true"},"#"),r(" WSL")],-1),n("h2",{id:"适用于-linux-的-windows-子系统文档"},[n("a",{class:"header-anchor",href:"#适用于-linux-的-windows-子系统文档","aria-hidden":"true"},"#"),r(" 适用于 Linux 的 Windows 子系统文档")],-1),n("h3",{id:"步骤1-为-windows-启用-linux-子系统"},[n("a",{class:"header-anchor",href:"#步骤1-为-windows-启用-linux-子系统","aria-hidden":"true"},"#"),r(" 步骤1 为 Windows 启用 Linux 子系统")],-1),n("p",null,'在Windows上安装任何Linux发行版之前，你必须首先启用 "Windows Subsystem for Linux "的可选功能。',-1),n("p",null,"以管理员身份打开PowerShell并运行:",-1),n("div",{class:"language-powershell"},[n("pre",null,[n("code",null,[r("dism"),n("span",{class:"token punctuation"},"."),r("exe "),n("span",{class:"token operator"},"/"),r("online "),n("span",{class:"token operator"},"/"),n("span",{class:"token function"},"enable-feature"),r(),n("span",{class:"token operator"},"/"),r("featurename:Microsoft"),n("span",{class:"token operator"},"-"),r("Windows"),n("span",{class:"token operator"},"-"),r("Subsystem"),n("span",{class:"token operator"},"-"),r("Linux "),n("span",{class:"token operator"},"/"),r("all "),n("span",{class:"token operator"},"/"),r("norestart\n")])])],-1),n("p",null,[r("建议现在进入第2步，更新到WSL 2，但如果你希望只安装WSL 1，你现在可以"),n("strong",null,"重启"),r("你的机器，然后进入第6步 安装你选择的Linux发行版。要更新到WSL 2，"),n("strong",null,"等待重新启动"),r("你的机器，然后进入下一个步骤。")],-1),n("h3",{id:"步骤2-检查运行wsl-2的要求"},[n("a",{class:"header-anchor",href:"#步骤2-检查运行wsl-2的要求","aria-hidden":"true"},"#"),r(" 步骤2 检查运行WSL 2的要求")],-1),n("p",null,"要更新到WSL 2，你必须运行Windows 10。",-1),n("ul",null,[n("li",null,[r("对于x64系统。"),n("strong",null,"版本1903"),r("或更高，"),n("strong",null,"Build 18362"),r("或更高。")]),n("li",null,[r("对于ARM64系统。"),n("strong",null,"版本2004"),r("或更高，"),n("strong",null,"Build 19041"),r("或更高。")]),n("li",null,[r("低于18362的构建版本不支持WSL 2。使用"),n("a",{href:"https://www.microsoft.com/software-download/windows10",target:"_blank",rel:"noopener noreferrer"},"Windows Update Assistant"),r("来更新您的Windows版本。")])],-1),n("p",null,[r("要检查你的版本和构建号，选择"),n("strong",null,"Windows标志键+R"),r("，输入"),n("strong",null,"winver"),r("，选择"),n("strong",null,"OK"),r("。在设置菜单中[更新到最新的Windows版本]（ms-settings:windowsupdate）。")],-1),n("blockquote",null,[n("p",null,[r('[！注意] 如果你运行的是Windows 10的1903或1909版本，从你的Windows菜单中打开 "设置"，导航到 "更新和安全 "并选择 "检查更新"。你的构建号必须是18362.1049+或18363.1049+，小构建号超过.1049。阅读更多。[WSL 2支持即将进入Windows 10版本1903和1909]（'),n("a",{href:"https://devblogs.microsoft.com/commandline/wsl-2-support-is-coming-to-windows-10-versions-1903-and-1909/%EF%BC%89%E3%80%82%E5%8F%82%E8%A7%81",target:"_blank",rel:"noopener noreferrer"},"https://devblogs.microsoft.com/commandline/wsl-2-support-is-coming-to-windows-10-versions-1903-and-1909/）。参见"),n("a",{href:"https://docs.microsoft.com/en-us/windows/wsl/troubleshooting#im-on-windows-10-version-1903-and-i-still-do-not-see-options-for-wsl-2",target:"_blank",rel:"noopener noreferrer"},"故障排除说明"),r("。")])],-1),n("h3",{id:"步骤3-启用虚拟机功能"},[n("a",{class:"header-anchor",href:"#步骤3-启用虚拟机功能","aria-hidden":"true"},"#"),r(" 步骤3 启用虚拟机功能")],-1),n("p",null,[r("在安装WSL 2之前，你必须启用"),n("strong",null,"虚拟机平台"),r("的可选功能。你的机器将需要"),n("a",{href:"https://docs.microsoft.com/en-us/windows/wsl/troubleshooting#error-0x80370102-the-virtual-machine-could-not-be-started-because-a-required-feature-is-not-installed",target:"_blank",rel:"noopener noreferrer"},"虚拟化功能"),r("来使用这一功能。")],-1),n("p",null,"以管理员身份打开PowerShell并运行:",-1),n("div",{class:"language-powershell"},[n("pre",null,[n("code",null,[r("dism"),n("span",{class:"token punctuation"},"."),r("exe "),n("span",{class:"token operator"},"/"),r("online "),n("span",{class:"token operator"},"/"),n("span",{class:"token function"},"enable-feature"),r(),n("span",{class:"token operator"},"/"),r("featurename:VirtualMachinePlatform "),n("span",{class:"token operator"},"/"),r("all "),n("span",{class:"token operator"},"/"),r("norestart\n")])])],-1),n("p",null,[n("strong",null,"重新启动"),r("你的机器，完成WSL的安装并更新到WSL 2。")],-1),n("h3",{id:"步骤4-下载linux内核更新包"},[n("a",{class:"header-anchor",href:"#步骤4-下载linux内核更新包","aria-hidden":"true"},"#"),r(" 步骤4 下载Linux内核更新包")],-1),n("ol",null,[n("li",null,[n("p",null,"下载最新的软件包。"),n("ul",null,[n("li",null,[n("a",{href:"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi",target:"_blank",rel:"noopener noreferrer"},"WSL2 Linux kernel update package for x64 machines")])]),n("blockquote",null,[n("p",null,[r("[！注意] 如果你使用的是ARM64机器，请下载"),n("a",{href:"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_arm64.msi",target:"_blank",rel:"noopener noreferrer"},"ARM64软件包"),r("代替。如果你不确定你的机器是什么类型的，请打开Command Prompt或PowerShell并输入。"),n("code",null,'systeminfo | find "System Type"'),r("。**注意事项：**在非英语的Windows版本上，你可能需要修改搜索文本，例如，德语的搜索文本是"),n("code",null,'systeminfo | find "Systemtyp"'),r("。")])])]),n("li",null,[n("p",null,'运行上一步下载的更新包。(双击运行--会提示你提升权限，选择 "是 "来批准这个安装。)')])],-1),n("p",null,"一旦安装完成，进入下一步--在安装新的Linux发行版时，将WSL 2设置为你的默认版本。(如果你希望你的新Linux安装设置为WSL 1，请跳过此步骤）。)",-1),n("blockquote",null,[n("p",null,[r("[！注意] 更多信息，请阅读文章"),n("a",{href:"https://devblogs.microsoft.com/commandline/wsl2-will-be-generally-available-in-windows-10-version-2004",target:"_blank",rel:"noopener noreferrer"},"更新WSL2 Linux内核的变化"),r("，可在"),n("a",{href:"https://aka.ms/cliblog",target:"_blank",rel:"noopener noreferrer"},"Windows命令行博客"),r("找到。")])],-1),n("h3",{id:"步骤5-将wsl2设置为你的默认版本"},[n("a",{class:"header-anchor",href:"#步骤5-将wsl2设置为你的默认版本","aria-hidden":"true"},"#"),r(" 步骤5 将WSL2设置为你的默认版本")],-1),n("p",null,"打开PowerShell，运行这个命令，在安装新的Linux发行版时将WSL 2设置为默认版本。",-1),n("div",{class:"language-powershell"},[n("pre",null,[n("code",null,[r("wsl "),n("span",{class:"token operator"},"--"),n("span",{class:"token function"},"set-default"),n("span",{class:"token operator"},"-"),r("version 2\n")])])],-1),n("h3",{id:"步骤6-安装你选择的linux发行版"},[n("a",{class:"header-anchor",href:"#步骤6-安装你选择的linux发行版","aria-hidden":"true"},"#"),r(" 步骤6 安装你选择的Linux发行版")],-1),n("ol",null,[n("li",null,[n("p",null,[r("打开"),n("a",{href:"https://aka.ms/wslstore",target:"_blank",rel:"noopener noreferrer"},"Microsoft Store"),r("，选择你喜欢的Linux发行版。")]),n("p",null,[n("img",{src:"/LearningBlog/assets/store.60c7ea27.png",alt:"查看微软商店中的Linux发行版"})]),n("p",null,"以下链接将打开每个发行版的微软商店页面。"),n("ul",null,[n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9N9TNGVNDL3Q",target:"_blank",rel:"noopener noreferrer"},"Ubuntu 18.04 LTS")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9n6svws3rx71",target:"_blank",rel:"noopener noreferrer"},"Ubuntu 20.04 LTS")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9NJFZK00FGKV",target:"_blank",rel:"noopener noreferrer"},"openSUSE Leap 15.1")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9MZ3D1TRP8T1",target:"_blank",rel:"noopener noreferrer"},"SUSE Linux Enterprise Server 12 SP5")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9PN498VPMF3Z",target:"_blank",rel:"noopener noreferrer"},"SUSE Linux Enterprise Server 15 SP1")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9PKR34TNCV07",target:"_blank",rel:"noopener noreferrer"},"Kali Linux")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9MSVKQC78PK6",target:"_blank",rel:"noopener noreferrer"},"Debian GNU/Linux")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9n6gdm4k2hnc",target:"_blank",rel:"noopener noreferrer"},"Fedora Remix for WSL")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9NV1GV1PXZ6P",target:"_blank",rel:"noopener noreferrer"},"Pengwin")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9N8LP0X93VCP",target:"_blank",rel:"noopener noreferrer"},"Pengwin Enterprise")]),n("li",null,[n("a",{href:"https://www.microsoft.com/store/apps/9p804crf0395",target:"_blank",rel:"noopener noreferrer"},"Alpine WSL")])])]),n("li",null,[n("p",null,'在发行版的页面上，选择 "获取"。'),n("p",null,[n("img",{src:"/LearningBlog/assets/UbuntuStore.d138e33e.png",alt:"微软商店中的Linux发行版"})])])],-1),n("p",null,"第一次启动新安装的Linux发行版时，会打开一个控制台窗口，你会被要求等待一两分钟，让文件解压缩并存储在你的电脑上。以后所有的启动都应该在一秒钟内完成。",-1),n("p",null,[r("然后你将需要为你的新Linux发行版"),n("a",{href:"https://docs.microsoft.com/en-us/windows/wsl/user-support",target:"_blank",rel:"noopener noreferrer"},"创建一个用户账户和密码"),r("。")],-1),n("p",null,[n("img",{src:"/LearningBlog/assets/UbuntuInstall.6194ceb8.png",alt:"在Windows控制台中解压Ubuntu"})],-1),n("p",null,[n("strong",null,"恭喜你! 你已经成功地安装并设置了一个与你的Windows操作系统完全集成的Linux发行版！"),r("。")],-1),n("h2",{id:"安装windows终端"},[n("a",{class:"header-anchor",href:"#安装windows终端","aria-hidden":"true"},"#"),r(" 安装Windows终端")],-1),n("p",null,[r("Windows终端可以实现多个标签（在多个Linux命令行、Windows命令提示符、PowerShell、Azure CLI等之间快速切换），创建自定义键绑定（打开或关闭标签的快捷键、复制+粘贴等），使用搜索功能，以及自定义主题（颜色方案、字体样式和大小、背景图像/模糊/透明）。"),n("a",{href:"https://docs.microsoft.com/en-us/windows/terminal/",target:"_blank",rel:"noopener noreferrer"},"了解更多"),r("。")],-1),n("p",null,[n("a",{href:"https://docs.microsoft.com/en-us/windows/terminal/get-started",target:"_blank",rel:"noopener noreferrer"},"安装Windows终端"),r("。")],-1),n("p",null,[n("img",{src:"/LearningBlog/assets/terminal.ae39c36e.png",alt:"Windows终端"})],-1),n("h3",{id:"将你的发行版本设置为wsl-1或wsl-2"},[n("a",{class:"header-anchor",href:"#将你的发行版本设置为wsl-1或wsl-2","aria-hidden":"true"},"#"),r(" 将你的发行版本设置为WSL 1或WSL 2")],-1),n("p",null,"你可以通过打开PowerShell命令行并输入命令（仅在Windows Build 18362或更高版本中可用）来检查分配给你所安装的每个Linux发行版的WSL版本。`wsl -l -v",-1),n("div",{class:"language-powershell"},[n("pre",null,[n("code",null,[r("wsl "),n("span",{class:"token operator"},"--"),r("list "),n("span",{class:"token operator"},"--"),r("verbose\n")])])],-1),n("p",null,"要设置一个发行版由WSL的任一版本支持，请运行。",-1),n("div",{class:"language-powershell"},[n("pre",null,[n("code",null,[r("wsl "),n("span",{class:"token operator"},"--"),n("span",{class:"token function"},"set-version"),r(" <distribution name> <versionNumber>（设置版本）。\n")])])],-1),n("p",null,[r("请确保将"),n("code",null,"<发行版名称>"),r("替换为你的发行版的实际名称，"),n("code",null,"<版本号>"),r("替换为数字'1'或'2'。你可以在任何时候通过运行与上面相同的命令，将 \"2 \"替换为 \"1\"，来改回WSL 1。")],-1),n("blockquote",null,[n("p",null,[r("[！注意] 从WSL 1到WSL 2的更新可能需要几分钟的时间才能完成，这取决于你的目标分布的大小。如果你正在运行来自Windows 10周年更新或创意者更新的WSL 1的旧（传统）安装，你可能会遇到一个更新错误。请按照这些说明来"),n("a",{href:"https://docs.microsoft.com/en-us/windows/wsl/install-legacy#uninstallingremoving-the-legacy-distro",target:"_blank",rel:"noopener noreferrer"},"卸载和删除任何遗留发行版"),r("。")]),n("p",null,[r("如果"),n("code",null,"wsl --set-default-version"),r("的结果是一个无效的命令，输入"),n("code",null,"wsl --help"),r("。如果"),n("code",null,"--set-default-version"),r("没有被列出，这意味着你的操作系统不支持它，你需要更新到1903版本，Build 18362或更高。如果你的操作系统是Build 19041 for ARM64，在使用PowerShell时，这个命令可能会失败，在这种情况下，你可以使用"),n("em",null,"Command Prompt"),r("来代替发出``wsl.exe`命令。")]),n("p",null,[r("如果你在运行该命令后看到这个信息。"),n("code",null,"WSL 2需要对其内核组件进行更新。有关信息请访问https://aka.ms/wsl2kernel"),r("。你仍然需要安装MSI Linux内核更新包。")])],-1),n("p",null,"此外，如果你想让WSL 2成为你的默认架构，你可以用这个命令来实现。",-1),n("div",{class:"language-powershell"},[n("pre",null,[n("code",null,[r("wsl "),n("span",{class:"token operator"},"--"),n("span",{class:"token function"},"set-default"),n("span",{class:"token operator"},"-"),r("version 2\n")])])],-1),n("p",null,"这将把任何新安装的发行版的版本设置为WSL 2。",-1),n("h2",{id:"安装homebrew"},[n("a",{class:"header-anchor",href:"#安装homebrew","aria-hidden":"true"},"#"),r(" 安装Homebrew")],-1),n("h3",{id:"快速安装"},[n("a",{class:"header-anchor",href:"#快速安装","aria-hidden":"true"},"#"),r(" 快速安装")],-1),n("div",{class:"language-js"},[n("pre",null,[n("code",null,[n("span",{class:"token operator"},"/"),r("bin"),n("span",{class:"token operator"},"/"),r("bash "),n("span",{class:"token operator"},"-"),r("c "),n("span",{class:"token string"},'"$(curl -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install.sh)"'),r("\n")])])],-1),n("p",null,"将以上命令粘贴至终端。脚本内置 中科大镜像 ，所以能让Homebrew安装的更快。",-1),n("h3",{id:"安装相关包"},[n("a",{class:"header-anchor",href:"#安装相关包","aria-hidden":"true"},"#"),r(" 安装相关包")],-1),n("div",{class:"language-"},[n("pre",null,[n("code",null,"brew install node\nbrew install yarn\nbrew install mysql\nbrew install redis\n")])],-1),n("h3",{id:"mysql启动"},[n("a",{class:"header-anchor",href:"#mysql启动","aria-hidden":"true"},"#"),r(" mysql启动")],-1),n("div",{class:"language-"},[n("pre",null,[n("code",null,"mysql.server start\n")])],-1),n("h3",{id:"redis启动"},[n("a",{class:"header-anchor",href:"#redis启动","aria-hidden":"true"},"#"),r(" redis启动")],-1),n("p",null,[r("可根据安装完成后的提示手动启动redis "),n("img",{src:"/LearningBlog/assets/redis.b25ea1a7.jpg",alt:"安装redis"})],-1),n("h2",{id:"参考链接"},[n("a",{class:"header-anchor",href:"#参考链接","aria-hidden":"true"},"#"),r(" 参考链接")],-1),n("ul",null,[n("li",null,[n("a",{href:"https://docs.microsoft.com/en-us/windows/wsl/",target:"_blank",rel:"noopener noreferrer"},"Windows Subsystem for Linux Documentation")]),n("li",null,[n("a",{href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10",target:"_blank",rel:"noopener noreferrer"},"Windows Subsystem for Linux Installation Guide for Windows 10")]),n("li",null,[n("a",{href:"https://zhuanlan.zhihu.com/p/90508170",target:"_blank",rel:"noopener noreferrer"},"mac下镜像飞速安装Homebrew教程")]),n("li",null,[n("a",{href:"https://brew.idayer.com/",target:"_blank",rel:"noopener noreferrer"},"Homebrew 安装")]),n("li",null,[n("a",{href:"https://brew.sh/index_zh-cn",target:"_blank",rel:"noopener noreferrer"},"Homebrew 官网")])],-1)];o.render=function(n,r,s,o,t,i){return e(),l("div",null,a)};export{s as __pageData,o as default};
